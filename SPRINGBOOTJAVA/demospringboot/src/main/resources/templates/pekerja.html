<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pekerja Page</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/table.css}" />
</head>
<body>
    <div class="first-box">
        <h2>Daftar Pekerja HRD</h2>
        <table class="styled-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nama</th>
                    <th>Posisi</th>
                    <th>Address</th>
                    <th>Email</th>
                    <th>No Telp</th>
                    <th>Password</th>
                </tr>
            </thead>
            <tbody th:each="d, no : ${EmpList}">
                <tr>
                    <td th:text="${d.getIDPekerja()}"></td>
                    <td><a th:href="@{/pekerja/{id}(id=${d.getIDPekerja()})}" th:text="${d.getNama() != null ? d.getNama() : 'No Name'}"></a></td>
                    <td th:text="${d.getPosisi()}"></td>
                    <td th:text="${d.getAlamat()}"></td>
                    <td th:text="${d.getEmail()}"></td>
                    <td th:text="${d.getNoTelp()}"></td>
                    <td th:text="${d.getPassword()}"></td>

                </tr>
            </tbody>
        </table>
    </div>

    <div class="second-box">
        <div id="feedback-form">
            <h2 class="header">Editor Pekerja HRD</h2>
            <form th:action="@{/pekerja/submit/{id}(id=${EmpRec!= null ? EmpRec.getIDPekerja() : 0})}" method="post" th:object="${EmpInfo}" class="form-group">
                
                <!-- ID -->
                <label for="id" class="form-label">ID</label>
                <input type="number" id="id" name="id" th:value="${EmpRec != null ? EmpRec.getIDPekerja() : 0}" readonly />

                <!-- Nama -->
                <label for="name" class="form-label">Nama</label>
                <input type="text" id="name" name="nama" th:value="${EmpRec?.Nama}" required />


                <!-- Alamat -->
                <label for="alamat" class="form-label">Alamat</label>
                <input type="text" id="alamat" name="alamat" th:value="${EmpRec?.getAlamat()}" required />

                <!-- NoTelp -->
                <label for="noTelp" class="form-label">No Telp</label>
                <input type="text" id="noTelp" name="noTelp" th:value="${EmpRec?.getNoTelp()}" required />

                <!-- Email -->
                <label for="email" class="form-label">Email</label>
                <input type="email" id="email" name="email" th:value="${EmpRec?.getEmail()}" required />

                <!-- Posisi -->
<label for="posisi" class="form-label">Posisi</label>
<input type="text" id="posisi" name="posisi" th:value="${EmpRec?.getPosisi() != null ? EmpRec.getPosisi() : 'HRD'}" readonly />


                <!-- Password -->
                <label for="password" class="form-label">Password</label>
                <input type="password" id="password" name="password" th:value="${EmpRec?.getPassword()}" required />
                
                <button type="submit" class="btn btn-primary" name="add">Add</button>
                <button type="submit" class="btn btn-primary" name="edit">Edit</button>
                <button type="submit" class="btn btn-primary" name="delete">Delete</button>
            </form>
        </div>
    </div>


    <br>
    <a href="interviews">
        <h2>Histori Interview</h2>
    </a>
    <br>
    <a href="pelamardata">
        <h2>Histori Pelamar</h2>
    </a>
    <br>
    <a href="seleksi">
        <h2>Keputusan</h2>
    </a>

    <form th:action="@{/pekerja/submit/complaint/{id}(id=${PelRec != null ? EmpRec.getIDPekerja() : 0})}" method="post">
        <label for="complaint" class="form-label">Complaint</label>
        <textarea id="complaint" name="complaint" rows="4" cols="50" required></textarea>
        <button type="submit" class="btn btn-warning">Submit Complaint</button>
    </form>

</body>
</html>
